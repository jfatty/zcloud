var JFATTY = {
    basePath : function() {
        //获取当前网址，如： http://localhost:8083/myproj/view/my.jsp
        var curWwwPath = window.document.location.href;
        //获取主机地址之后的目录，如： myproj/view/my.jsp
        var pathName = window.document.location.pathname;
        var pos = curWwwPath.indexOf(pathName);
        //获取主机地址，如： http://localhost:8083
        var localhostPaht = curWwwPath.substring(0,pos);
        //获取带"/"的项目名，如：/myproj
        var projectName = pathName.substring(0,pathName.substr(1).indexOf('/')+1);
        //得到了 http://localhost:8083/myproj
        var realPath = localhostPaht + projectName;
        // var objectName = "jfatty";
        // var curWwwPath = window.document.location.href;
        // var pathName = window.document.location.pathname;
        // var pos = curWwwPath.indexOf(pathName);
        // var pathport = curWwwPath.substring(0, pos);
        //return pathport + "/" + objectName + "/";
        return realPath + "/";
    },
    contentPath: function(){
        //获取当前网址，如： http://localhost:8083/myproj/view/my.jsp
        var curWwwPath = window.document.location.href;
        //获取主机地址之后的目录，如： myproj/view/my.jsp
        var pathName = window.document.location.pathname;
        var pos = curWwwPath.indexOf(pathName);
        //获取主机地址，如： http://localhost:8083
        var localhostPaht = curWwwPath.substring(0,pos);
        //获取带"/"的项目名，如：/myproj
        var projectName = pathName.substring(0,pathName.substr(1).indexOf('/')+1);
        return projectName ;
    },
    judgeBrowser: function(){
        var userAgent = navigator.userAgent; //取得浏览器的userAgent字符串
        var isOpera = userAgent.indexOf("Opera") > -1;
        if (isOpera) {
            return "Opera"
        } //判断是否Opera浏览器
        if (userAgent.indexOf("Firefox") > -1) {
            return "FF";
        } //判断是否Firefox浏览器
        if (userAgent.indexOf("Chrome") > -1){
            return "Chrome";
        }
        if (userAgent.indexOf("Safari") > -1) {
            return "Safari";
        } //判断是否Safari浏览器
        if (userAgent.indexOf("compatible") > -1 && userAgent.indexOf("MSIE") > -1 && !isOpera) {
            return "IE";
        } //判断是否IE浏览器
        if (userAgent.indexOf("Trident") > -1) {
            return "Edge";
        } //判断是否Edge浏览器
        return "Unknown" ;
    },
    doGet: function(o) {
        $.ajax({
            url : o.url,
            type : 'GET',
            async : o.async==null?true:o.async,
            contentType : 'application/json',
            data : null,
            dataType : 'json',
            beforeSend: function(xMLHttpRequest){

            },
            success : function(value, type) {
                o.success(value, type);
            },
            error: function(XMLHttpRequest, textStatus, errorThrown){

            }
        });
    },
    doPost: function(o) {
        $.ajax({
            url : o.url,
            type : 'POST',
            async : o.async==null?true:o.async,
            contentType : 'application/json',
            data : o.data==null?"":JSON.stringify(o.data),
            dataType : 'json',
            beforeSend: function(xMLHttpRequest){

            },
            success : function(value, type) {
                o.success(value, type);
            },
            error: function(XMLHttpRequest, textStatus, errorThrown){

            }
        });
    },
    getAccessCode:function(){

        return ;
    },
    getUrlValue: function(name){
        var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
        var r = window.location.search.substr(1).match(reg);
        if(r!=null)return  unescape(r[2]); return null;
    },
    getOAuth: function(){

        return ;
    },
    //返回第n页，type=1时刷新页面， type=2时不刷新页面
    returnBack: function(n, type){
        window.history.go(n);
    },
    randomCode: function(){
        var mm=Math.random()
        var code = Math.round(mm*1000000);
        return code;
    },
    spinOpts: {
        lines: 13,
        length: 7,
        width: 4,
        radius: 10,
        corners: 1,
        rotate: 0,
        color: '#000',
        speed: 1,
        trail: 60,
        shadow: false,
        hwaccel: false,
        className: 'spinner',
        zIndex: 2e9,
    },
    isEmptyOrNull: function(value) {
        value = $.trim(value); // 用jQuery的trim方法删除前后空格
        if (value == '' || value == null ) {// 判断是否是空字符串，而不是null
            return true;
        }
        return false;
    },
    isChinese: function(value) {
        var chinses = /^[\u0391-\uFFE5]+$/ ;
        return chinses.test(value) ;
    },
    isTel: function(value){
        var mobile = /^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1}))+\d{8})$/;
        return mobile.test(value);
    }
};