<div style="margin: 15px;">
    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
        <legend>新增操作</legend>
    </fieldset>

    <form class="layui-form"  id="fm" action="">
        <div class="layui-form-item">
            <label class="layui-form-label">菜单标题</label>
            <div class="layui-input-block">
                <input type="text" name="title" id="title" lay-verify="required" placeholder="请输入菜单标题" autocomplete="off"
                       class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label for="icon" class="layui-form-label">
                <span style="color: red;">*</span>图标
            </label>
            <div class="layui-input-inline">
                <div style="margin-left: 20px;margin-top:5px">
                    <ul>
                        <li style="vertical-align: middle;display: inline-block;width: 90px;" id="menu-icon">
                            <i class="layui-icon" id="icon" style="font-size: 25px;"></i>
                        </li>
                        <li style="vertical-align: middle;display: inline-block;">
                            <i class="layui-btn layui-btn-primary layui-btn-sm" id="select_icon">选择图标</i>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">模块</label>
            <div class="layui-input-block">
                <input type="text" name="module" id="module" lay-verify="required" placeholder="请输入模块" autocomplete="off"
                       class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">路由</label>
            <div class="layui-input-block">
                <input type="text" name="route" id="route" lay-verify="required" placeholder="请输入路由" autocomplete="off"
                       class="layui-input">
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">布局方位</label>
            <div class="layui-input-block">
                <select id="layoutMode" name="layoutMode">
                    <option value="grid">九宫格</option>
                    <option value="block">分块</option>
                </select>
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">规格布局</label>
            <div class="layui-input-block">
                <input type="number" id="norm" name="norm" lay-verify="required" placeholder="大2中1小0  布局 左4中5右6 上8中5下2"
                       autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">菜单样式</label>
            <div class="layui-input-block">
                <input type="text" name="plass"  id="plass" lay-verify="required" placeholder="请输入菜单样式" autocomplete="off"
                       class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">索引</label>
            <div class="layui-input-block">
                <input type="text" name="pageIndex" id="pageIndex"  autocomplete="off" placeholder="请输入索引"
                       class="layui-input">
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">链接跳转类型</label>
            <div class="layui-input-block">
                <select id="type" name="type">
                    <option value="ROUTE">路由</option>
                    <option value="TARGET">窗口</option>
                    <option value="HREF">链接</option>
                </select>
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">菜单版本</label>
            <div class="layui-input-block">
                <input type="text" name="version" id="version" lautocomplete="off" placeholder="请输入菜单版本"
                       class="layui-input">
            </div>
        </div>


        <div class="layui-form-item layui-form-text">
            <label class="layui-form-label">菜单描述</label>
            <div class="layui-input-block">
                <textarea name="description"  id="description" placeholder="请输入菜单描述" class="layui-textarea"></textarea>
            </div>
        </div>
        <button lay-filter="edit" lay-submit style="display: none;"></button>
    </form>
</div>
<script type="text/javascript" th:inline="none">
    layui.use(['form', 'layedit', 'laydate'], function () {
        var form = layui.form,
            layer = layui.layer;
        var iconBoxIndex = -1;
        $('#select_icon').on('click', function () {
            if (iconBoxIndex !== -1)
                return;
            //本表单通过ajax加载 --以模板的形式，当然你也可以直接写在页面上读取
            $.get('./icon.html', null, function (form) {
                iconBoxIndex = layer.open({
                    type: 1,
                    title: '选择图标',
                    content: form,
                    //	btn: ['确定', '取消'],
                    shade: false,
                    offset: ['100px', '30%'],
                    area: ['600px', '400px'],
                    zIndex: 19950924,
                    maxmin: true,
                    yes: function (index) {
                        //触发表单的提交事件
                        $('form.layui-form').find('li').click();
                    },
                    full: function (elem) {
                        var win = window.top === window.self ? window : parent.window;
                        $(win).on('resize', function () {
                            var $this = $(this);
                            elem.width($this.width()).height($this.height()).css({
                                top: 0,
                                left: 0
                            });
                            elem.children('div.layui-layer-content').height($this.height() - 95);
                        });
                    },
                    success: function (layero, index) {
                        //弹出窗口成功后渲染表单
                        //console.log("1397");
                        //console.log(layero, index);
                    },
                    end: function () {
                        iconBoxIndex = -1;
                    }
                });
            });

        });
    });
</script>