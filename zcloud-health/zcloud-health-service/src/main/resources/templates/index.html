<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>图片上传</title>
    <link rel="stylesheet" href="css/tinyImgUpload.css">
</head>
<body >

<div id="upload">

</div>
<div id="show">

</div>
<button class="submit">submit</button>
<script src="js/tinyImgUpload.js"></script>
<script src="js/jquery.1.7.js"></script>
<script>
document.documentElement.style.fontSize = document.documentElement.clientWidth*0.1+'px';

var options = {
    path: 'http://localhost:8082/uploadFile',
    onSuccess: function (res) {
        console.log(res.data);
        console.log(res.data.id);
        var img = ' <img style="width: 100%;height: 100%" src="data:image/jpg;base64,'+ res.data.avatar +'" >' ;
        $("#show").append(img);

    },
    onFailure: function (res) {
        console.log(res);
    }
}

var upload = tinyImgUpload('#upload', options);
document.getElementsByClassName('submit')[0].onclick = function (e) {
    upload();
}
</script>
</body>
</html>